{{movieArray.dirty}}
{{movieArray.value|json}}
{{movieArray.pristine}}
{{movieArray.valid}}
{{movieArray.invalid}}

<form [formGroup]="movieArray" (submit)="addMovie()">
    <!-- <div class="form-group"><input type="text" name="movieName" formControlName="movieName" class="form-control"></div>
    <div class="form-group"><input type="text" name="movieReleaseDate" formControlName="movieReleaseDate" class="form-control"> </div>
    <div class="form-group">
        <input type="text" name="movieLanguage" formControlName="movieLanguage" class="form-control">
        <div>{{movieArray.getError('required','movieLanguage')}}</div>
        <div>{{movieArray.get('movieLanguage').errors|json}}</div>
    </div> -->
    <div class="form-group"><input type="text" name="year" formControlName="year" class="form-control"></div>
    <button class="btn btn-primary" type="button" (click)="addNewMovie()">Add New Movie</button>
    <div formArrayName="movies">
        <div *ngFor="let movie of movies.controls; let i=index">
            <div [formGroupName]="i">
                <div class="form-group"><input type="text" name="name" formControlName="name" 
                    class="form-control" placeholder="Name">
                </div>
                <div class="form-group"><input type="text" name="language" formControlName="language"
                        class="form-control" placeholder="Language"></div>
                <div class="form-group"><input type="text" name="rating" formControlName="rating" 
                    class="form-control" placeholder="Rating">
                </div>
                <button class="btn btn-danger" type="button" (click)="removeMovie(i)">Remove Movie</button>
            </div>
        </div>
    </div>

    <div><button type="submit" class="btn btn-primary" [disabled]="movieArray.invalid">Add Movie</button></div>
</form>